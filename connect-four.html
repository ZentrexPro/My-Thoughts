<!doctype html>
<html>
<head>
<meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Connect Four</title>
<style>
 body{margin:0;font-family:Arial;background:#081024;color:#fff;display:flex;align-items:center;flex-direction:column;padding:20px}
 .board{display:grid;grid-template-columns:repeat(7,56px);gap:8px;background:#003; padding:12px;border-radius:10px}
 .cell{width:56px;height:56px;border-radius:50%;background:#0a2540;display:flex;align-items:center;justify-content:center;cursor:pointer}
 .cell.red{background:#ff4d4d}
 .cell.yellow{background:#ffd24d}
 .info{margin:12px}
 .btn{padding:8px 12px;border-radius:8px;border:none;background:#00d1ff;color:#001}
</style>
</head>
<body>
<h2>Connect Four</h2>
<div class="info">Click a column to drop. Red starts.</div>
<div id="board" class="board"></div>
<div style="margin-top:12px"><button class="btn" onclick="resetGame()">Reset</button></div>

<script>
const cols=7, rows=6;
const boardEl=document.getElementById('board');
let grid=[]; let turn=1; // 1 red, 2 yellow

function makeGrid(){
  grid = Array.from({length: rows}, ()=>Array(cols).fill(0));
  boardEl.innerHTML='';
  for(let r=0;r<rows;r++) for(let c=0;c<cols;c++){
    const d=document.createElement('div'); d.className='cell'; d.dataset.r=r; d.dataset.c=c;
    d.onclick=()=>drop(c);
    boardEl.appendChild(d);
  }
}
function render(){
  const cells = boardEl.children;
  for(let r=0;r<rows;r++) for(let c=0;c<cols;c++){
    const idx = r*cols + c;
    cells[idx].classList.remove('red','yellow');
    if(grid[r][c]===1) cells[idx].classList.add('red');
    if(grid[r][c]===2) cells[idx].classList.add('yellow');
  }
}

function drop(c){
  for(let r=rows-1;r>=0;r--){
    if(grid[r][c]===0){ grid[r][c]=turn; if(checkWin(turn)){ setTimeout(()=>alert((turn===1?'Red':'Yellow')+' wins!'),50); } turn = 3-turn; render(); return; }
  }
}

function checkWin(player){
  // horizontal
  for(let r=0;r<rows;r++) for(let c=0;c<cols-3;c++){
    if(grid[r][c]===player && grid[r][c+1]===player && grid[r][c+2]===player && grid[r][c+3]===player) return true;
  }
  // vertical
  for(let c=0;c<cols;c++) for(let r=0;r<rows-3;r++){
    if(grid[r][c]===player && grid[r+1][c]===player && grid[r+2][c]===player && grid[r+3][c]===player) return true;
  }
  // diag
  for(let r=0;r<rows-3;r++) for(let c=0;c<cols-3;c++){
    if(grid[r][c]===player && grid[r+1][c+1]===player && grid[r+2][c+2]===player && grid[r+3][c+3]===player) return true;
  }
  for(let r=3;r<rows;r++) for(let c=0;c<cols-3;c++){
    if(grid[r][c]===player && grid[r-1][c+1]===player && grid[r-2][c+2]===player && grid[r-3][c+3]===player) return true;
  }
  return false;
}

function resetGame(){ turn=1; makeGrid(); render(); }
resetGame();
</script>
</body>
</html>