<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>Tic Tac Toe</title>
<style>
  body{margin:0;background:#0b0f14;color:#e8f1f2;font-family:system-ui,Arial,sans-serif;display:flex;flex-direction:column;align-items:center}
  header{width:100%;padding:16px;text-align:center;border-bottom:1px solid #1e2631}
  .board{margin:20px auto;display:grid;grid-template-columns:repeat(3,100px);gap:8px}
  .cell{width:100px;height:100px;background:#141a22;border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:44px;cursor:pointer;box-shadow:0 6px 16px rgba(0,0,0,.35)}
  .info{margin:8px 0 14px}
  .btn{padding:8px 14px;border:0;border-radius:10px;background:#00fff5;color:#001;font-weight:700;cursor:pointer}
  .row{display:flex;gap:10px}
  .back{position:fixed;left:10px;top:10px}
  .back a{color:#9fe;text-decoration:none;font-weight:600}
  @media (max-width:420px){.board{grid-template-columns:repeat(3,82px)} .cell{width:82px;height:82px;font-size:36px}}
</style>
</head>
<body>
  <div class="back"><a href="games.html">‚Üê Back</a></div>
  <header><h2>Tic Tac Toe</h2></header>
  <div class="info">Mode:
    <select id="mode">
      <option value="pvp">2 Players</option>
      <option value="ai">Vs Computer</option>
    </select>
  </div>
  <div class="board" id="board"></div>
  <div class="row">
    <button class="btn" onclick="reset()">Reset</button>
  </div>
<script>
  const boardEl = document.getElementById('board');
  const modeEl = document.getElementById('mode');
  let board, turn, over;

  function init(){
    board = Array(9).fill('');
    turn = 'X'; over = false;
    boardEl.innerHTML='';
    for(let i=0;i<9;i++){
      const c=document.createElement('div');
      c.className='cell'; c.dataset.i=i; c.onclick=()=>play(i);
      boardEl.appendChild(c);
    }
  }

  function lines(){
    return [[0,1,2],[3,4,5],[6,7,8],
            [0,3,6],[1,4,7],[2,5,8],
            [0,4,8],[2,4,6]];
  }
  function winner(b=board){
    for(const [a,u,v] of lines())
      if(b[a] && b[a]===b[u] && b[a]===b[v]) return b[a];
    return b.includes('')?null:'draw';
  }
  function render(){
    [...boardEl.children].forEach((c,i)=>c.textContent=board[i]);
  }

  function play(i){
    if(over || board[i]) return;
    board[i]=turn; render();
    let w=winner();
    if(w){ over=true; setTimeout(()=>alert(w==='draw'?'Draw!':`${w} wins!`),10); return; }
    turn= turn==='X'?'O':'X';
    if(modeEl.value==='ai' && turn==='O') setTimeout(aiMove,180);
  }

  function aiMove(){
    // try win
    for(let i=0;i<9;i++){
      if(!board[i]){ const b=[...board]; b[i]='O'; if(winner(b)==='O'){ play(i); return; } }
    }
    // block
    for(let i=0;i<9;i++){
      if(!board[i]){ const b=[...board]; b[i]='X'; if(winner(b)==='X'){ play(i); return; } }
    }
    // center -> corner -> side
    const order=[4,0,2,6,8,1,3,5,7];
    for(const i of order){ if(!board[i]){ play(i); return; } }
  }

  function reset(){ init(); }
  init();
</script>
</body>
</html>